# GP Floor Impact Analysis

## Overview
This report evaluates sold **Jobs** and **Contracts** against a user-selected **GP Floor** (a minimum acceptable gross profit %). It answers:

- How many bookings are **at/above** the floor vs **below** it?
- How much of our **revenue ($ Sales)** and **gross profit ($ GP)** comes from bookings at/above the floor?
- How do current results compare to a selected **Baseline Year**?

The report is designed for monitoring pricing discipline, mix, and profit quality, with interactive controls for time, source, and chart views.

## Core concepts
- **Booking**: a sold job or contract (controlled by the **Source** toggle).
- **Sell Price ($ Sales)**: booking value (revenue).
- **Gross Profit ($ GP)**: profit dollars.
- **Gross Profit % (GP%)**: `GP$ ÷ Sell Price`.
- **GP Floor**: the GP% threshold set by the **GP Floor** slider.
- **At/Above Floor**: bookings where `GP% ≥ GP Floor`.
- **Below Floor**: bookings where `GP% < GP Floor`.
- **Baseline Year**: a comparison year used to establish a reference performance level.

## How to use the report
1. Set the **GP Floor** slider to the standard you want to monitor (e.g., 32%).
2. Choose the **Fiscal Year** (current analysis year) and **Baseline Year** (comparison year).
3. Choose a **Metric** lens:
   - **# Bookings** (volume lens)
   - **$ Sales** (revenue-weighted lens)
   - **$ GP** (profit-weighted lens)
4. Choose a **Chart Dimension** to view results **By Month**, **By Quarter**, or **By Division**.
5. Use the **Filters** (Source, Division, Region, etc.) to focus the analysis.

## Metric lenses — what they really mean

The report shows booking health in three different ways. They all answer the same question — *“Are we selling above our GP floor?”* — but they look at it from three different business angles.

Think of them as three lenses on the same booking activity.

### 1) % Bookings Above Floor — *Pricing discipline*
This treats every sold job or contract the same, regardless of size.

It answers:
> Out of all the things we sold, how many met our profit standard?

This is a **behavior and process** metric:
- Are sellers quoting to standard?
- Are managers enforcing the floor?
- Are exceptions becoming normal?

A healthy organization should keep this consistently high.

### 2) % Sales Above GP Floor — *Revenue mix*
This weights each booking by how large it is.

It answers:
> What percentage of our total booked revenue came from deals that met the GP floor?

This tells you whether **large deals** are being priced well — not just whether many small ones are.

You can have a high % of bookings above floor but a low % of sales above floor if a few large underpriced deals dominate the revenue.

### 3) % GP$ Above GP Floor — *Profit quality*
This weights each booking by how much gross profit it produces.

It answers:
> What percentage of total gross profit dollars came from bookings that met the GP floor?

This is the most economically important lens. In a healthy business, most profit should come from work that was priced at or above standard.

## Why these three numbers can disagree

It is common for these metrics to move in different directions.

| Pattern | What it means |
|--------|----------------|
| High Bookings %, Low Sales % | Many deals meet the floor, but the biggest ones do not. Large projects are eroding pricing discipline. |
| High Sales %, Low GP$ % | Revenue looks fine, but profit is being generated by below-floor work. Low-margin volume is masking weak profitability. |
| High GP$ %, Low Bookings % | A few strong deals are carrying profitability, but many small deals are being sold poorly. Risk is building. |

## KPI cards (top row)

Each card shows the selected lens as a **percent at/above floor**, plus a **Baseline %** and the **Δ vs Baseline**.

- **% Bookings Above Floor**  
  `(# bookings with GP% ≥ floor) ÷ (total # bookings)`

- **% Sale Price Above GP Floor**  
  `(Sell Price from bookings with GP% ≥ floor) ÷ (Total Sell Price)`

- **% GP$ Above GP Floor**  
  `(GP$ from bookings with GP% ≥ floor) ÷ (Total GP$)`

- **Baseline %**  
  The same calculation, evaluated for the selected **Baseline Year**

- **Δ vs Baseline**  
  `Current % - Baseline %` (percentage-point difference)

## Visuals
- **Sold Against GP Floor (stacked columns)**  
  Splits the selected lens into **At/Above Floor** vs **Below Floor** by the chosen dimension.

- **% Health vs Global Baseline**  
  Shows the current “% above floor” trend by the chosen dimension.  
  The dashed line represents the overall **Baseline Year** performance.

- **Detail table**  
  Provides row-level detail by booking with Sell Price, GP, GP%, and deltas vs the floor.

## Tips for interpretation
- If **% Bookings Above Floor** is healthy but **% Sales Above Floor** is not, large deals may be pulling performance below standard.
- If **% Sales Above Floor** is healthy but **% GP$ Above Floor** is not, profit dollars may be coming disproportionately from below-floor bookings.
- Use **By Division** views to identify where pricing guidance, coaching, or approval controls may be required.
